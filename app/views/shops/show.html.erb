<div id="main">
  <div id="shopDetail">
    <div id="shopInner">
      <h1><%= @shop.name %></h1>
      <div id="shopInfo">
        <table>
          <tr>
            <td>住所</td>
            <td><%= @shop.address %></td>
          </tr>

          <tr>
            <td>TEL</td>
            <td><%= @shop.shop_detail.tel %></td>
          </tr>

          <tr>
            <td>営業時間</td>
            <td><%= @shop.shop_detail.store_hours %></td>
          </tr>

          <tr>
            <td>休業日</td>
            <td><%= @shop.shop_detail.holiday %></td>
          </tr>

          <tr>
            <td>URL</td>
            <td><a href=<%= @shop.shop_detail.web %>>公式HP</a></td>
          </tr>
          <img src = <%= @shop.image_path %>/>
        </table>
      </div>

      <div class="abstract">
        <dl>
          <dt>概要</dt>
          <dd><%= simple_format(@shop.shop_detail.abstract) %></dd>
        </dl>
      </div>

      <!-- <div id="pageLink">
        <ul>
          <li><a href="#goodsLink">商品画像</a></li>
          <li><a href="#accessLink">アクセス</a></li>
        </ul>
      </div> -->

      <h3 id="goodsLink">商品画像<a href="#accessLink" class="pageLink">▼アクセスへ</a></h3>
      <% if request.from_smartphone? %>
        <%= javascript_include_tag 'slider' %>
        <%= render :partial => "goodsListMobile" %>
      <% else %>
        <%= render :partial => "goodsList" %>
      <% end %>

      <h3 id="accessLink">アクセス<a href="#goodsLink" class="pageLink">▲商品画像へ</a></h3>
      <div id="access">
        <div id="access_canvas"></div>
      </div>
    </div>
  </div>
</div>

<script>
handler = Gmaps.build('Google');
handler.buildMap({ provider: {}, internal: {id: 'access_canvas'}}, function(){
  markers = handler.addMarkers(<%=raw @hash.to_json %>);
  handler.bounds.extendWith(markers);
  handler.fitMapToBounds();
  handler.getMap().setZoom(17);
});
</script>
